<template>
  <div class="settings-container">
    <div class="settings-header">
      <h1 class="settings-title">
        <span class="title-icon">üîå</span>
        –ü–æ–¥–∫–ª—é—á–∏—Ç—å –Ø–Ω–¥–µ–∫—Å
      </h1>
      <p class="settings-subtitle">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞–º–∏ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤</p>
    </div>
    
    <div class="settings-card">
      <div class="card-header">
        <div class="header-icon">
          <span class="yandex-icon">–Ø</span>
        </div>
        <div class="header-text">
          <h2 class="card-title">–î–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h2>
          <p class="card-description">–í–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∫–æ–º–ø–∞–Ω–∏–∏ –≤ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞—Ö</p>
        </div>
      </div>
      
      <div class="card-body">
        <div class="input-group">
          <label class="input-label">
            <span class="label-text">–°—Å—ã–ª–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã</span>
            <span class="label-required">*</span>
          </label>
          
          <div class="input-wrapper">
            <span class="input-icon">üîó</span>
            <input 
              type="url" 
              v-model="yandexLink"
              placeholder="https://yandex.ru/maps/org/..."
              class="form-input"
            >
          </div>
          
          <div class="input-hint">
            <span class="hint-icon">‚ÑπÔ∏è</span>
            <span class="hint-text">
              –ü—Ä–∏–º–µ—Ä: https://yandex.ru/maps/org/company_name/123456789/
            </span>
          </div>
        </div>
        
        <div class="info-box">
          <span class="info-icon">üí°</span>
          <div class="info-content">
            <p class="info-title">–ö–∞–∫ –Ω–∞–π—Ç–∏ —Å—Å—ã–ª–∫—É?</p>
            <p class="info-text">
              1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã<br>
              2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –∫–æ–º–ø–∞–Ω–∏—é<br>
              3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
            </p>
          </div>
        </div>
      </div>
      
      <div class="card-footer">
        <button 
          @click="saveLink"
          class="save-btn"
          :disabled="!yandexLink"
        >
          <span class="btn-icon">üíæ</span>
          <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </button>
        
        <button 
          @click="cancel"
          class="cancel-btn"
        >
          –û—Ç–º–µ–Ω–∞
        </button>
      </div>
    </div>
    
    <!-- –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
    <transition name="fade">
      <div v-if="showSuccess" class="success-message">
        <span class="success-icon">‚úÖ</span>
        <span>–°—Å—ã–ª–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º...</span>
      </div>
    </transition>
  </div>
</template>

<script>
export default {
  name: 'YandexSettings',
  data() {
    return {
      yandexLink: '',
      showSuccess: false
    }
  },
  methods: {
    saveLink() {
      if (!this.yandexLink) return;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
      this.showSuccess = true;
      
      // –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å
      console.log('üîó –°—Å—ã–ª–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:', this.yandexLink);
      
      // –ß–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç–∑—ã–≤–æ–≤
      setTimeout(() => {
        this.showSuccess = false;
        this.$router.push('/reviews');
      }, 1000);
    },
    
    cancel() {
      this.yandexLink = '';
      console.log('‚ùå –û—Ç–º–µ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è');
    }
  }
}
</script>

<style src="../../css/yandex-settings.css" scoped></style>